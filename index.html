<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Surf Report | Neptune</title>
<meta property="og:title" content="Live Surf Report â€” Neptune">
<meta property="og:description" content="Real-time surf conditions powered by Neptune">
<meta property="og:type" content="website">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0a1628;color:#e8f0fe;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;min-height:100vh}
.header{background:linear-gradient(135deg,#0d2847 0%,#0a1628 50%,#062040 100%);padding:32px 20px 24px;text-align:center;border-bottom:1px solid rgba(59,158,255,0.15)}
.header h1{font-size:28px;font-weight:700;margin-bottom:4px}
.header .sub{color:#8899b0;font-size:14px;margin-bottom:10px}
.badge{display:inline-block;background:rgba(59,158,255,0.15);color:#3b9eff;font-size:12px;font-weight:600;padding:4px 12px;border-radius:20px}
.container{max-width:600px;margin:0 auto;padding:16px}
.section-title{font-size:13px;font-weight:600;color:#3b9eff;text-transform:uppercase;letter-spacing:1px;margin:20px 0 10px;padding-left:4px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(min-width:480px){.grid{grid-template-columns:1fr 1fr 1fr}}
.card{background:#111d2e;border:1px solid rgba(255,255,255,0.06);border-radius:14px;padding:16px;text-align:center}
.card .label{font-size:11px;color:#8899b0;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:6px}
.card .value{font-size:26px;font-weight:700;line-height:1.1}
.card .detail{font-size:12px;color:#8899b0;margin-top:4px}
.card .icon{font-size:20px;margin-bottom:4px}
.swell .value{color:#3b9eff}
.wind .value{color:#06b6d4}
.tide .value{color:#22d3ee}
.temp .value{color:#f59e0b}
.info-card{background:#111d2e;border:1px solid rgba(255,255,255,0.06);border-radius:14px;padding:16px;margin-top:10px}
.info-row{display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid rgba(255,255,255,0.04)}
.info-row:last-child{border-bottom:none}
.info-row .k{color:#8899b0;font-size:13px}
.info-row .val{font-size:13px;font-weight:500}
.desc{color:#8899b0;font-size:14px;line-height:1.5;margin-top:12px;padding:0 4px}
.footer{text-align:center;padding:24px 16px 12px;color:#556580;font-size:12px}
.cta{display:block;margin:24px auto 0;background:linear-gradient(135deg,#3b9eff,#06b6d4);color:#fff;font-size:16px;font-weight:700;padding:16px 32px;border-radius:50px;text-decoration:none;text-align:center;max-width:320px;box-shadow:0 4px 20px rgba(59,158,255,0.3)}
.cta:hover{opacity:0.9}
.cta .sm{font-size:12px;font-weight:400;opacity:0.85;display:block;margin-top:2px}
.loading{display:flex;align-items:center;justify-content:center;min-height:80vh;text-align:center}
.loading .spinner{width:40px;height:40px;border:3px solid rgba(59,158,255,0.2);border-top-color:#3b9eff;border-radius:50%;animation:spin 0.8s linear infinite;margin:0 auto 16px}
@keyframes spin{to{transform:rotate(360deg)}}
.error-page{display:flex;align-items:center;justify-content:center;min-height:80vh;text-align:center}
.error-page h2{font-size:24px;margin-bottom:8px}
.error-page p{color:#8899b0;font-size:14px}
</style>
</head>
<body>
<div id="app">
  <div class="loading">
    <div>
      <div class="spinner"></div>
      <p style="color:#8899b0">Loading surf report...</p>
    </div>
  </div>
</div>
<script>
const API="https://gkiwqqfuhkzzdzonvmwn.supabase.co/functions/v1/spot-report";function v(val,unit,fallback){if(val==null)return fallback||"\u2014";return val+(unit||"")}function formatTime(iso){if(!iso)return"\u2014";try{const d=new Date(iso);let h=d.getHours(),m=String(d.getMinutes()).padStart(2,"0");const ap=h>=12?"PM":"AM";h=h%12||12;return h+":"+m+" "+ap}catch(e){return"\u2014"}}function wetsuitRec(waterF){if(waterF==null)return"";if(waterF>=65)return"Trunks";if(waterF>=58)return"Spring suit";return"Full suit"}function esc(s){const d=document.createElement("div");d.textContent=s;return d.innerHTML}async function loadReport(){const params=new URLSearchParams(window.location.search);const slug=params.get("slug");if(!slug){showError("No spot specified","Add ?slug=spot-name to the URL");return}try{const res=await fetch(API+"?slug="+encodeURIComponent(slug));const data=await res.json();if(data.error){showError("Spot Not Found",'We couldn\'t find "'+esc(slug)+'". Check the URL and try again.');return}render(data)}catch(e){showError("Something went wrong","Please try again later.")}}function showError(title,msg){document.getElementById("app").innerHTML='<div class="error-page"><div><div style="font-size:48px;margin-bottom:16px">\uD83C\uDFD6\uFE0F</div><h2>'+esc(title)+"</h2><p>"+msg+"</p></div></div>"}function render(data){const s=data.spot;const c=data.conditions;const skillRange=s.skillLevelMin===s.skillLevelMax?s.skillLevelMin:s.skillLevelMin+" \u2013 "+s.skillLevelMax;const bestSwell=(s.bestSwellDirection||[]).join("/")||"Any";const bestSwellSize=s.bestSwellSizeMinFt&&s.bestSwellSizeMaxFt?s.bestSwellSizeMinFt+"\u2013"+s.bestSwellSizeMaxFt+"ft":"";const updated=new Date(data.updatedAt).toLocaleString("en-US",{timeZone:"America/Los_Angeles",dateStyle:"medium",timeStyle:"short"});document.title=s.name+" \u2014 Live Surf Report | Neptune";document.getElementById("app").innerHTML='<div class="header"><div style="font-size:32px;margin-bottom:8px">\uD83C\uDF0A</div><h1>'+esc(s.name)+'</h1><div class="sub">'+esc(s.region)+" \u00B7 "+esc(s.county)+'</div><span class="badge">'+esc(s.spotType)+'</span></div><div class="container"><div class="section-title">Current Conditions</div><div class="grid"><div class="card swell"><div class="icon">\uD83C\uDF0A</div><div class="label">Swell</div><div class="value">'+v(c.swellHeightFt,"ft")+'</div><div class="detail">'+v(c.swellPeriodS,"s")+" "+(c.swellDirection||"")+'</div></div><div class="card wind"><div class="icon">\uD83D\uDCA8</div><div class="label">Wind</div><div class="value">'+v(c.windSpeedMph,"mph")+'</div><div class="detail">'+(c.windDirection||"\u2014")+(c.windGustsMph?" \u00B7 Gusts "+c.windGustsMph+"mph":"")+'</div></div><div class="card tide"><div class="icon">\uD83C\uDF19</div><div class="label">Tide</div><div class="value">'+v(c.tideHeightFt,"ft")+'</div><div class="detail">'+(c.tideType||"\u2014")+(c.nextHighTide?" \u00B7 H "+formatTime(c.nextHighTide):"")+'</div></div><div class="card temp"><div class="icon">\uD83C\uDF21\uFE0F</div><div class="label">Water</div><div class="value">'+v(c.waterTempF,"\u00B0F")+'</div><div class="detail">'+wetsuitRec(c.waterTempF)+'</div></div><div class="card temp"><div class="icon">\u2600\uFE0F</div><div class="label">Air</div><div class="value">'+v(c.airTempF,"\u00B0F")+'</div><div class="detail">UV '+v(c.uvIndex)+'</div></div><div class="card"><div class="icon">\uD83D\uDD50</div><div class="label">Sun</div><div class="value" style="font-size:16px">\u2191 '+formatTime(c.sunrise)+'</div><div class="detail">\u2193 '+formatTime(c.sunset)+'</div></div></div><div class="section-title">Best Conditions</div><div class="info-card"><div class="info-row"><span class="k">Swell</span><span class="val">'+esc(bestSwell)+" "+bestSwellSize+'</span></div><div class="info-row"><span class="k">Tide</span><span class="val">'+esc(s.bestTide||"Any")+'</span></div><div class="info-row"><span class="k">Wind</span><span class="val">'+esc(s.bestWind||"Any")+'</span></div><div class="info-row"><span class="k">Season</span><span class="val">'+esc(s.bestSeason||"Year-round")+'</span></div><div class="info-row"><span class="k">Skill</span><span class="val">'+esc(skillRange)+"</span></div></div>"+(s.description?'<p class="desc">'+esc(s.description)+"</p>":"")+'<a class="cta" href="#">Get Neptune<span class="sm">AI Surf Coach for iOS</span></a><div class="footer">Updated '+esc(updated)+" PT<br>Powered by Neptune \uD83C\uDF0A</div></div>"}loadReport();
</script>
</body>
</html>
